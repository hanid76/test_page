<!DOCTYPE html>
<html>
  <head>
    <title>Vega-Lite Bar Chart</title>
    <meta charset="utf-8">
    <meta http-equiv=X-UA-Compatible content="IE=edge" />
    <script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

    <script src="https://vega.github.io/vega/assets/promise.min.js"></script>
    <script src="https://vega.github.io/vega/assets/symbol.min.js"></script>
    <script src="https://vega.github.io/vega/assets/fetch.min.js"></script>
    <script src="https://vega.github.io/vega/vega.min.js"></script>
    <style media="screen">
      /* Add space between Vega-Embed links  */
      .vega-actions a {
        margin-right: 5px;
      }
    </style>
  </head>
  <body>
    <h1>Template for IP Dashboard</h1>
    <!-- Container for the visualization -->
    <div id="vis"></div>
    <script type="text/javascript">
    
      // Assign the specification to a local variable vlSpec.
      var vlSpec = {

  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "layer": [{
    "data": {"url": "https://hanid76.github.io/test_page/data.json"},
    "layer": [{
      "mark": "bar",
      "encoding": {
        "x": {"field": "IP_name","title":"","sort":["기준","-----"]},
        "y": {"aggregate": "sum", "field": "Value", "title":""},
        "color": {
          "field": "Index",
          "type":"nominal", 
          "scale": {
            "domain": ["Test Case", "Functional Coverage", "Code Coverage"],
            "scheme": "blues"
          },
          "title":""
        }
      }
    }]
    }, {
      "data": {
        "values": [{}]
      },
      "encoding": {
        "y": {"datum": 70}
      },
      "layer": [{
        "mark": "rule"
      }, {
        "mark": {
          "type": "text",
          "align": "left",
          "baseline": "bottom",
          "color": "green",
          "dx": -2,
          "dy": -2,
          "x": "width",
          "text": "Alpha"
        }
      }]
    }, {
      "data": {
        "values": [{}]
      },
      "encoding": {
        "y": {"datum": 150}
      },
      "layer": [{
        "mark": "rule"
      }, {
        "mark": {
          "type": "text",
          "align": "left",
          "baseline": "bottom",
          "color": "green",
          "dx": -2,
          "dy": -2,
          "x": "width",
          "text": "Beta"
        }
      }]
    }, {
      "data": {
        "values": [{}]
      },
      "encoding": {
        "y": {"datum": 200}
      },
      "layer": [{
        "mark": "rule"
      }, {
        "mark": {
          "type": "text",
          "align": "left",
          "baseline": "bottom",
          "color": "green",
          "dx": -2,
          "dy": -2,
          "x": "width",
          "text": "Final"
        }
      }]
    }
  ]

      };

      // Embed the visualization in the container with id `vis`
      vegaEmbed('#vis', vlSpec);
    </script>
  </body>
</html>
